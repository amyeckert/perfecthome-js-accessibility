{"version":3,"sources":["perfecthome.js"],"names":["$","document","ready","copyTextToClipboard","text","textToCopy","textArea","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","value","body","appendChild","select","execCommand","err","removeChild","val","window","location","hash","hide","q1","q2","q3","vowelRegExp","theRegExp","lettersRegExp","cleanText","inputText","textIsClean","match","validateName","nameIsValid","playerName","errNameRequired","errInput","removeClass","next","addClass","pickForm","allQuestions","chosen","Math","floor","random","length","empty","append","find","first","validateForm","chosenInputs","not","formIsValid","i","currentAnswer","currentInputId","attr","currentErrorMessage","data","currentInputType","maxValue","max","parseInt","numberEntered","saveData","answers","listing","this","newName","name","newListing","newData","serializeArray","unshift","push","ajax","type","url","success","createListing1","inputStartsWithVowel","addN","prev","waterInput","replace","form1","scrollTop","show","myListing","trim","querySelector","innerHTML","createListing2","dir","landmark","form2","createListing3","time","form3","on","e","currentHash","css","background-image","preventDefault","click","console","log","modal","state","fadeIn","fadeOut","event","date","Date","year","getFullYear","copyrightNotice","html"],"mappings":"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","file":"perfecthome-min.js","sourcesContent":["// source and inspiration: https://github.com/mjhea0/jquery-madlibs\n\n$(document).ready(function() {\t\n\t//clear any input values\n\t$(\".js-input\").val('');\n\n\t// Focus \n\t// var currentFocused = document.activeElement;\n\t// var nameFocused = $('input#firstName');\n\t// body = $('body');\n\t// body.blur();\n\t// currentFocused.addClass('has-focus');\n\t// nameFocused.focus();\n\t// console.log(nameFocused);\n\t// console.log(document.activeElement);\n\n\n\n \t// reset window hash to empty\n\twindow.location.hash = '';\n\n\t// HIDE STUFF\t---------------------------//\n\t$(\".q1\").hide();\n\t$(\".q2\").hide();\n\t$(\".q3\").hide();\n\t$(\".listings\").hide();\n\t$(\".js-list1\").hide();\n\t$(\".js-list2\").hide();\n\t$(\".js-list3\").hide();\n\t$(\".replay\").hide();   \n\t$(\".btn-reset\").hide();\n\t$(\".about\").hide();\n\n\t// GLOBAL VBARIABLES -------------------------//\n\tvar q1 = $(\".q1\");\n \tvar q2 = $(\".q2\");\n \tvar q3 = $(\".q3\");\n\tvar allInputs = $('.js-input');\n\n\t// regular expressions  -------------------------------//\n\tvar vowelRegExp = /^[aeiou]/gi; // for adding a(n) in front of nouns where required.\n\tvar theRegExp = /\\bthe\\b/gi; //remove the word \"the\"\n\tvar lettersRegExp = /[^a-z ]+$/gi; // allow ONLY alphabetic and whitespace\n\tvar numbersRegExp = /[^0-9] $/gi;\n\n\t// VALIDATIONS ---------------------------//\n\tvar cleanText = function(inputText) {\n\t\tvar textIsClean = true;\n\t\tif (inputText.match(lettersRegExp)) {\n\t\t\ttextIsClean = false;\n\t\t} \n\t\treturn textIsClean; \n\t};\n\n\tvar cleanNumbers = function(inputText) {\n\t\tvar numbersClean = true;\n\t\tif (inputText.match(numbersRegExp)) {\n\t\t\tnumbersClean = false;\n\t\t}\n\t\treturn numbersClean;\n\t};\n\n\tvar validateName = function() {\n\t\tvar nameIsValid = false;\n\t \tvar playerName = $('.firstName').val();\n\t \tvar errNameRequired = 'Pssst! What\\'s your name?';\n\t\tvar errorField = $('.error-name');\n\t\tvar errInput = $('#' + 'firstName');\n\t\terrInput.removeClass('has-error');\n\n\t \tif(!playerName) {\n\t \t\tnameIsValid = false;\n\t\t\t$('#' + 'firstName').next().text(errNameRequired);\n\t\t\terrInput.addClass('has-error');\n\t \t} else if(!cleanText(playerName)){\n\t \t\tnameIsValid = false;\n\t \t\terrNameRequired = '\\*Please use only letters, thanks!';\n\t \t\t$('#' + 'firstName').next().text(errNameRequired);\n\t\t\terrInput.addClass('has-error');\n\t \t} else {\n\t\t\t// errInput.blur();\n\t \t\treturn true;\n\t \t}\n\t\t// focused.blur();\n\n\t\treturn nameIsValid;\n\t};\n\n\tvar pickForm = function(){\n\t\tvar allQuestions = [q1, q2, q3];\n\t\tvar chosen = allQuestions[Math.floor(Math.random() * allQuestions.length)];\n\n\t\t// nameFocused.blur();\n\t\t\n\t\t//for future investigation: \n\t\t// source https://stackoverflow.com/questions/6625551/math-random-number-without-repeating-a-previous-number //\n\n\t\t// var getRand = (function() {\n\t\t//     var nums = [0,1,2,3,4,5,6];\n\t\t//     var current = [];\n\t\t//     function rand(n) {\n\t\t//         return (Math.random() * n)|0;\n\t\t//     }\n\t\t//     return function() {\n\t\t//       if (!current.length) current = nums.slice();\n\t\t//       return current.splice(rand(current.length), 1);\n\t\t//     }\n\t\t// }());\n\n\t\t//clear input values\n\t\t$(\".js-input\").val(\"\");\n\n\t \t$(\".enter-name\").hide();\n\t \t$(\".firstName\").empty().append($(\"input.firstName\").val());\n\n\t\tvar firstQuestion;\n\t\t// focused.blur();\n  \n\t\t//\tPICK A QUESTIONAIRE and move focus to first input ------------//\n\t\tif (chosen == q1) {\n\t\t\twindow.location.hash = '#q1';\n\t\t\tfirstQuestion = q1.find('.question').first().find('input');\n\t\t\t// firstQuestion.focus();\n\t\t\t// console.log(firstQuestion);\n\t \t}\n\t\t else if (chosen == q2) {\n\t\t\twindow.location.hash = '#q2';\n\t\t\tfirstQuestion = q2.find('.question').first().find('input');\n\t\t\t// firstQuestion.focus();\n\t\t\t// console.log(firstQuestion);\n\t \t}\n\t\telse { \n\t\t\twindow.location.hash = 'q3';\n\t\t\tfirstQuestion = q3.find('.question').first().find('input');\n\t\t\t// firstQuestion.focus();\n\t\t\t// console.log(firstQuestion);\n\t\t}\n\t};\n\n\tvar validateForm = function() {\n\t\t// determine which form is visible \n\t\tvar chosenForm = $('body').find('form:visible').not( '#name' );\n\t\tvar chosenInputs = $('body').find('.js-input:visible').not('#firstName');\n\t\tvar formIsValid = true;\n\n\t\t// check if each input is filled out correctly\n\t\tfor (var i=0; i<chosenInputs.length; i++) {\n\t\t\tvar currentAnswer = $(chosenInputs[i]).val();\n\t\t\tvar currentInputId = $(chosenInputs[i]).attr('id');\n\t\t\tvar currentErrorMessage = $(chosenInputs[i]).data('error-msg');\n\t\t\tvar currentInputType = $(chosenInputs[i]).attr('type');\t\t\n\t\t\t// remove any previous error msg\n\t\t\t$('#' + currentInputId).next().text('');\n\t\t\t$('#' + currentInputId).removeClass('has-error');\n\n\t\t\t// check the input is empty\n\t\t\tif(currentAnswer === '') {\n\t\t\t\t$('#' + currentInputId).next().text('\\*' + currentErrorMessage); \n\t\t\t\t$('#' + currentInputId).addClass('has-error');\n\t\t\t\tformIsValid = false;\n\t\t\t} else {\n\t\t\t\tif(currentInputType === 'number') { \n\t\t\t\t\t// convert string max and min values to numbers \n\t\t\t\t\tvar min = 0;\n\t\t\t\t\tvar maxValue = $(chosenInputs[i]).attr('max');\n\t\t\t\t\tvar max = parseInt(maxValue, 10);\n\t\t\t\t\tvar numberEntered = parseInt(currentAnswer, 10);\n\t\t\t\t\n\t\t\t\t\t// check numbers are in correct range\n\t\t\t\t \tif (numberEntered < min || numberEntered > max) {\n\t\t\t\t\t\tcurrentErrorMessage = '\\*Please pick a number in the correct range.';\n\t\t\t\t\t\t$('#' + currentInputId).next().text(currentErrorMessage);\n\t\t\t\t\t\t$('#' + currentInputId).addClass('has-error');\t\n\t\t\t\t\t\tformIsValid = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#' + currentInputId).next().text('');\n\t\t\t\t\t\t$('#' + currentInputId).removeClass('has-error');\t\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t\tif (currentInputType ==='text') { \n\t\t\t\t\tif (!cleanText(currentAnswer)) {\n\t\t\t\t\t\tcurrentErrorMessage = '\\*Please use only letters, thanks!';\n\t\t\t\t\t\t$('#' + currentInputId).next().text(currentErrorMessage);\n\t\t\t\t\t\t$('#' + currentInputId).addClass('has-error');\n\t\t\t\t\t\tformIsValid = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#' + currentInputId).next().text('');\n\t\t\t\t\t\t$('#' + currentInputId).removeClass('has-error');\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\n\t\t\t}\n\t\t} \n\t\treturn formIsValid;\n\t}; \n\n\t//\tsave data ------------------------//\n\tvar saveData = function(answers, listing) {\n\t\tthis.listing = listing;\n\n\t\tvar playerName = $('.firstName').val();\n\n\t\tvar newName = [\n\t\t\t{name: 'firstName', value: playerName }\n\t\t\t];\n\t\tvar newListing = [\n\t\t\t{ name: \"listing\", value: listing }\n\t\t\t];\n\t\tvar newData = answers.serializeArray();\n\t\tnewData.unshift(newName[0]);\n\t\tnewData.push(newListing[0]);\n\n\t\t$.ajax({\n\t\t   \ttype: \"POST\",\n\t\t   \turl: \"buildJson.php\", \n\t\t   \tdata: newData,  \n\t\t  \tsuccess: function() {\n\t  \t\t} \n\t\t});\n\t};\t\n\t\t\n\t// inject answers into the madlibs and grab all text----------------------//\n\tvar createListing1= function(){\n\t    // if input starts with a vowel, add an n to make an before it.\n\t    var inputStartsWithVowel = $(\"input.adj2\").val();\n\t\tvar addN = $(\".adj2\").prev();\n\t    if(inputStartsWithVowel.match(vowelRegExp)) {\n\t    \t// getprevious sibling\n\t    \taddN.empty().text('an ');\n\t    \t$(\".adj2\").empty().append(inputStartsWithVowel).val();\n\t\t } else {\n\t\t \taddN.empty().text('a ');\n\t\t \t$(\".adj2\").empty().append(inputStartsWithVowel).val();\n\t\t }\n\t\t //check for and remove \"the\" before name of body of water\n\t\t var waterInput = $(\"input.water\").val(); \n\t\t if(waterInput.match(theRegExp)) {\n\t\t \twaterInput = waterInput.replace(theRegExp, '');\n\t    \t$(\".water\").empty().append(waterInput).val();\n\t\t } else {\n\t    \t$(\".water\").empty().append(waterInput).val();\t\n\t\t }\n\n\t\t// grab the values from the input boxes, then append them to the DOM\n\t\t$(\".firstName\").empty().append($(\"input.firstName\").val());\n\t    $(\".adj1\").empty().append($(\"input.adj1\").val());\n\t    $(\".favCountry\").empty().append($(\"input.favCountry\").val());\n\t    $(\".bestie\").empty().append($(\"input.bestie\").val());\n\t    $(\".noun1\").empty().append($(\"input.noun1\").val());\n\t\t$(\".noun2\").empty().append($(\"input.noun2\").val());\n\t    $(\".favCartoon\").empty().append($(\"input.favCartoon\").val());\n\t    $(\".prez\").empty().append($(\"input.prez\").val());\n\t    $(\".gem\").empty().append($(\"input.gem\").val());\n\t    $(\".basement\").empty().append($(\"input.basement\").val());\n\t    $(\".tree\").empty().append($(\"input.tree\").val());\n\t    $(\".num1\").empty().append($(\"input.num1\").val());\n\t    $(\".favAnimal\").empty().append($(\"input.favAnimal\").val());\n\t    $(\".verb1\").empty().append($(\"input.verb1\").val());\n\n\t    // save data \n\t    var form1 = $('#questions1');\n\t    \n\t    // hide the questions\n\t    $(\".q1\").hide();\n\n\t    //jump to top of page\n\t    $(window).scrollTop(0);\n\n\t    //\tshow the listing; \n\t    $(\".listings\").show();\n\t\t$(\".js-list1\").show();\n\t\t$(\".js-list2\").hide();\n\t\t$(\".js-list3\").hide();\n\n\t\t//store listing and pass to saveData(); \n\t\tvar myListing = $(\".listing1\").text();\n\t\tmyListing = $.trim(myListing);\n\t\tsaveData(form1, myListing);\n\t\tcopyTextToClipboard(myListing);\n\n\t\t$(\".btn-reset\").show();\n\t\t$(\".about\").show();\n\n\t    //change the h1 message\n\t   \tvar message = document.querySelector(\".message\").innerHTML = \"How about this little gem?\";\t   \t\n\t};\n\n\tvar createListing2 = function(){\n\n  \t\tvar dir = $(\"#direction option:selected\" ).text();\n\t\tvar landmark = $(\"#landmark :selected\").text();\n\n\t\t$(\".firstName\").empty().append($(\"input.firstName\").val());\n\t\t$(\".num5\").empty().append($(\"input.num5\").val());\n\t\t$(\".adj3\").empty().append($(\"input.adj3\").val());\n\t\t$(\".num2\").empty().append($(\"input.num2\").val());\n\t\t$(\".num3\").empty().append($(\"input.num3\").val());\n\t\t$(\".num4\").empty().append($(\"input.num4\").val());\n\t\t$(\".emotion\").empty().append($(\"input.emotion\").val());\n\t\t$(\".direction\").empty().append(dir);\n\t\t$(\".room\").empty().append($(\"input.room\").val());\n\t\t$(\".adj4\").empty().append($(\"input.adj4\").val());\n\t\t$(\".pubInst\").empty().append($(\"input.pubInst\").val());\n\t\t$(\".favCity\").empty().append($(\"input.favCity\").val());\n\t\t$(\".landmark\").empty().append(landmark);\n\n\t\t//dave data to JSON\n\t\tvar form2 = $('#questions2');\n\n\t\t// hide the questions\n\t\t$(\".q2\").hide();\n\n\t\t //jump to top of page\n\t    $(window).scrollTop(0);\n\n\t\t//\tshow the listing\n\t\t$(\".listings\").show();\n\t\t$(\".js-list1\").hide();\n\t\t$(\".js-list2\").show();\n\t\t$(\".js-list3\").hide();\n\n\t\t//store listing and pass to saveData();\n\t\tvar myListing = $(\".listing2\").text();\n\t\tmyListing = $.trim(myListing);\n\t\tsaveData(form2, myListing);\n\t\tcopyTextToClipboard(myListing);\n\n\t\t$(\".btn-reset\").show();\t\n\t\t$(\".about\").show(); \n\n\t    //change the h1 message\n\t   \tvar message = document.querySelector(\".message\").innerHTML = \"This one says YOU all over it!\";\n\t};\n\n\tvar createListing3 = function(){\n\n\t\tvar time = $(\"#time option:selected\" ).text();\n\n\t\t$(\".firstName\").empty().append($(\"input.firstName\").val());\n\t\t$(\".num6\").empty().append($(\"input.num6\").val());\n\t\t$(\".num7\").empty().append($(\"input.num7\").val());\n\t\t$(\".disaster\").empty().append($(\"input.disaster\").val());\n\t\t$(\".clothing\").empty().append($(\"input.clothing\").val());\n\t\t$(\".mood\").empty().append($(\"input.mood\").val());\n\t\t$(\".adj6\").empty().append($(\"input.adj6\").val());\n\t\t$(\".adj7\").empty().append($(\"input.adj7\").val());\n\t\t$(\".urban\").empty().append($(\"input.urban\").val());\n\t\t$(\".room2\").empty().append($(\"input.room2\").val());\n\t\t$(\".verb2\").empty().append($(\"input.verb2\").val());\n\t\t$(\".time\").empty().append(time);\n\t\t$(\".pluAnimals\").empty().append($(\"input.pluAnimals\").val());\n\t\t$(\".verb3\").empty().append($(\"input.verb3\").val());\t\n\n\t\t//dave data to JSON\n\t\tvar form3 = $('#questions3');\n\t\t\n\t\t// hide the questions\n\t\t$(\".q3\").hide();\n\n\t\t //jump to top of page\n\t    $(window).scrollTop(0);\n\n\t\t//show the listing\n\t\t$(\".listings\").show();\n\t\t$(\".js-list1\").hide();\n\t\t$(\".js-list2\").hide();\n\t\t$(\".js-list3\").show();\n\n\t\t//store listing and pass to saveData();\n\t\tvar myListing = $(\".listing3\").text();\n\t\tmyListing = $.trim(myListing);\n\t\tsaveData(form3, myListing);\n\t\tcopyTextToClipboard(myListing);\n\t\n\t\t$(\".btn-reset\").show();\n\t\t$(\".about\").show();\n\n\n\t\tvar message = document.querySelector(\".message\").innerHTML = \"Bring your toolbox!\";\n\t};\n\n\t//-------  SHARE LISTING ON FACEBOOK OR TWITTER -------------------------//\n \n\t// source: https://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript\n\tfunction copyTextToClipboard(text) {\n\t\tvar textToCopy = text;\n  \t\tvar textArea = document.createElement(\"textarea\");\n\n\t\t// Place in top-left corner of screen regardless of scroll position.\n\t\ttextArea.style.position = 'fixed';\n\t\ttextArea.style.top = 0;\n\t\ttextArea.style.left = 0;\n\n\t\t// Ensure it has a small width and height. Setting to 1px / 1em\n\t\t// doesn't work as this gives a negative w/h on some browsers.\n\t\ttextArea.style.width = '2em';\n\t\ttextArea.style.height = '2em';\n\n\t\t// We don't need padding, reducing the size if it does flash render.\n\t\ttextArea.style.padding = 0;\n\n\t\t// Clean up any borders.\n\t\ttextArea.style.border = 'none';\n\t\ttextArea.style.outline = 'none';\n\t\ttextArea.style.boxShadow = 'none';\n\n\t\t// Avoid flash of white box if rendered for any reason.\n\t\ttextArea.style.background = 'transparent';\n\t\ttextArea.value = textToCopy;\n\n\t\tdocument.body.appendChild(textArea);\n\n\t\ttextArea.select();\n\n\t\ttry {\n\t\t\tvar successful = document.execCommand('copy');\n\t\t\tvar msg = successful ? 'successful' : 'unsuccessful';\n\n\t\t} catch (err) {\n\t\t\t// console.log('Oops, unable to copy');\n\t\t}\n\n\t\tdocument.body.removeChild(textArea);\n\t}\n\n\t//-------  HASH CHANGE EVENTS -------------------------//\n\t$(window).on('hashchange', function(e) {\n\t\tvar currentHash = window.location.hash;\n\t\tvar formToSave;\n\n\t\t// Focus controls\n\t\t// var currentFocused = document.activeElement;\n\t\t// var nameFocused = $('input#firstName');\n\t\t// body = $('body');\n\t\t// body.blur();\n\t\t// currentFocused.addClass('has-focus');\n\t\t// nameFocused.focus();\n\t\t// console.log(nameFocused);\n\t\t// console.log(currentFocused);\n\n\n\t\tif(currentHash === '#q1') {\n\t\t\t$(\".q1\").show(); \n\t \t\t$(\".q2\").hide();\n\t\t\t$(\".q3\").hide();\n\t\t\t$('body').css({\n\t\t\t\t\"background-image\" : \"url('img/tablebeast-sm.jpg')\"\n\t\t\t});\n\t\t\t$(\".listings\").hide();\n\t\t}\n\t\tif(currentHash === '#q2') {\n\t\t\t$(\".q2\").show();\n\t \t\t$(\".q1\").hide();  \n\t \t\t$(\".q3\").hide();\n\t \t\t$('body').css({\n\t\t\t\t\"background-image\" : \"url('img/couches-sm.jpg')\"\n\t\t\t});\n\t\t\t$(\".listings\").hide();\n\t\t}\n\t\tif(currentHash === '#q3') {\n\t\t\t$(\".q3\").show();\n\t \t\t$(\".q1\").hide(); \n\t \t\t$(\".q2\").hide();\n\t \t\t$('body').css({\n\t\t\t\t\"background-image\" : \"url('img/seam2-sm.jpg')\"\n\t\t\t});\n\t\t\t$(\".listings\").hide();\t\t\t\t\n\t\t}\n\t\tif(currentHash === '#listing1' ) {\n\t\t\tcreateListing1();\t\t\t\t\t\t\n\t\t}\n\t\tif(currentHash === '#listing2' ) {\n\t\t\tcreateListing2();\n\t\t}\n\t\tif(currentHash === '#listing3' ) {\n\t\t\tcreateListing3();\t\t\t\t\t\t\t\t\n\t\t}\n\t});\n\n\t//validates that name is entered, chooses questionnaire\n\t$('#name').on('submit', function(e){\n\t\te.preventDefault();\n\t\t// if passes\n\t\tif (validateName()) {\n\t\t\t//clear input values\n\t\t\t$(\".js-input\").val(\"\");\n\t\t\tpickForm();\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t});\n\t\n\t//assemble listing only if form is valid------------//\n\t$(\"#btn-submit1\").click(function(e) {\n\t\te.preventDefault();\n\t\tif(!validateForm()) {\n\t\t\t$('#btn-submit1').next().text('\\*Please correct the errors, THEN call the movers.');\n\t\t\tconsole.log('form is not valid');\n\t\t\treturn false;\n\t\t} else {\n\t\t\t$('#btn-submit1').next().text('');\n\t\t\twindow.location.hash = '#listing1';\n\t\t\tconsole.log('form is valid');\t\t\t\t\n\t\t}\t \n\t});\n\n\t$(\"#btn-submit2\").click(function(e) {\n\t\te.preventDefault();\n\t\tif(!validateForm()) {\n\t\t\t$('#btn-submit2').next().text('\\*Please correct the errors, THEN start packing.');\n\t\t\tconsole.log('form is not valid');\n\t\t\treturn false;\n\t\t} else {\n\t\t\t$('#btn-submit2').next().text('');\n\t\t\twindow.location.hash = '#listing2';\n\t\t\tconsole.log('form is valid');\t\t\t\t\t   \t\t\n\t\t}\n\t});\n\t\n\t$(\"#btn-submit3\").click(function(e) {\n\t\te.preventDefault();\n\t\tif(!validateForm()) {\n\t\t\t$('#btn-submit3').next().text('\\*Please correct the errors, THEN call the bank.');\n\t\t\tconsole.log('form is not valid');\n\t\t\treturn false;\n\t\t} else {\n\t\t\t$('#btn-submit3').next().text('');\n\t\t\twindow.location.hash = '#listing3';\n\t\t\tconsole.log('form is valid');\n\t\t}\n\t});\n\n\t$('.js-copy-listing').click(function(e) {\n\t\te.preventDefault();\n\t\tvar textToCopy = $('.listings > :visible');\n\t\ttextToCopy = textToCopy[0];\n\t\ttextToCopy = $.trim($(textToCopy).text());\n\t  \tcopyTextToClipboard(textToCopy);\n\n\t});\n\n\t//  MODAL: ABOUT --------------------------------//\n\tvar modal = function(state) {\n\t\tif(state === 'open') {\n\t\t\t$('.modal-container').fadeIn(function(){\n\t\t\t\t$('body').addClass('modal-on'); \n\t\t\t});\n\t\t} \n\t\telse {\n\t\t\t$('.modal-container').fadeOut(function(){\n\t\t\t\t$('body').removeClass('modal-on');\n\t\t\t});\n\t\t}\t\n\t};\n\t//open the modal\n\t$('.js-modal-open').on('click', function(event) {\n\t\tevent.preventDefault();\n\t\tmodal('open');\n\t});\n\n\t//close the modal\n\t$('.close').on('click', function(event){\n\t\tevent.preventDefault();\n\t\tmodal('close');\n\t});\n\n    //\tUPDATE COPYRIGHT yearly------------------------------//\n\n    var date = new Date();\n    var year = date.getFullYear();\n    var copyright = $('p.copyright').text();\n    var copyrightNotice = 'Â© ' + year + ' Amy Eckert';\n    $('p.copyright').html(copyrightNotice);\n\n});\t\n"]}